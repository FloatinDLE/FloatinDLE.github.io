<!DOCTYPE html>
<html  lang=en>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  
    
    <link rel="shortcut icon" href="/images/kou.ico ">
    
    
    <link rel="icon" type="image/png" href="/images/favicon-android.png " sizes="192x192">
    
    
    <link rel="apple-touch-icon" href="/images/favicon-apple.png " sizes="180x180">
    
  
  <!-- title -->
  <title>地下室 应用层 </title>
  <!-- styles -->
  <!-- styles -->

<link rel="stylesheet" href="/styles/global.css">

  <!-- rss -->
  
<meta name="generator" content="Hexo 5.4.1"></head>
  <body>
    <header id="header">
  
  <nav class="menu menu--right">
  
    <a class="menu__item" href="/">主页</a>
    <a class="menu__item" href="/archives/">归档</a>
    <a class="menu__item" href="/categories/">专题</a>
    <a class="menu__item" href="/tags/">标签</a>
    <!-- <a class="menu__item" href="/">作品</a> -->
    <!-- <a class="menu__item" href="/about/">关于</a> -->
  </nav>
</header>
    <main>
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post__header">
  <h1 class="post__title">应用层</h1>
  
  
  <div class="post__meta">
    
<time class="post__date" datetime="2022-01-20T06:42:05.000Z" itemprop="datePublished">
  
  <i class="blogfont">&#xedff;</i>
  
  2022-01-20 14:42:05
</time>

    
<div class="post__category">
  <i class="blogfont">&#xe62d;</i>
  <a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
</div>
  

    
<div class="post__tag">
  <i class="blogfont">&#xe7ec;</i>
  <a class="tag-link-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" rel="tag">计算机基础</a>
</div>


    <div id="/2022/01/20/%E5%BA%94%E7%94%A8%E5%B1%82/" class="leancloud_visitors post__stat" data-flag-title="应用层">
  <i class="blogfont">&#xe672;</i>
  <span class="leancloud-visitors-count">loading...</span>
</div>
  </div>
</header>
  <aside class="post__aside">
  <div class="post__actions">
    <a id="backTop" class="post__top" href="javascript:">
      <i class="blogfont">&#xe6b1;</i><!-- Top -->
    </a>
    <a id="share" class="post__share" href="javascript:">
      <i class="blogfont">&#xe6c1;</i>
    </a>
  </div>
  <ol class="post__toc"><li class="post__toc-item post__toc-level-2"><a class="post__toc-link" href="#%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9E%8B"><span class="post__toc-text">网络应用模型</span></a><ol class="post__toc-child"><li class="post__toc-item post__toc-level-3"><a class="post__toc-link" href="#%E5%AE%A2%E6%88%B7-x2F-%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A8%A1%E5%9E%8B"><span class="post__toc-text">客户&#x2F;服务器模型</span></a></li><li class="post__toc-item post__toc-level-3"><a class="post__toc-link" href="#P2P%E6%A8%A1%E5%9E%8B"><span class="post__toc-text">P2P模型</span></a></li></ol></li><li class="post__toc-item post__toc-level-2"><a class="post__toc-link" href="#DNS%E7%B3%BB%E7%BB%9F"><span class="post__toc-text">DNS系统</span></a><ol class="post__toc-child"><li class="post__toc-item post__toc-level-3"><a class="post__toc-link" href="#%E5%9B%A0%E7%89%B9%E7%BD%91%E4%BD%BF%E7%94%A8%E7%9A%84%E5%91%BD%E5%90%8D%E7%B3%BB%E7%BB%9F%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%8A%8A%E4%BE%BF%E4%BA%8E%E8%AE%B0%E5%BF%86%E7%9A%84%E4%B8%BB%E6%9C%BA%E5%90%8D-%E7%BD%91%E5%9D%80-%EF%BC%8C%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BE%BF%E4%BA%8E%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%A4%84%E7%90%86%E7%9A%84IP%E5%9C%B0%E5%9D%80"><span class="post__toc-text">因特网使用的命名系统，用于把便于记忆的主机名(网址)，转换为便于计算机处理的IP地址</span></a></li><li class="post__toc-item post__toc-level-3"><a class="post__toc-link" href="#3%E9%83%A8%E5%88%86%E7%BB%84%E6%88%90"><span class="post__toc-text">3部分组成</span></a></li></ol></li><li class="post__toc-item post__toc-level-2"><a class="post__toc-link" href="#FTP"><span class="post__toc-text">FTP</span></a><ol class="post__toc-child"><li class="post__toc-item post__toc-level-3"><a class="post__toc-link" href="#FTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="post__toc-text">FTP协议的工作原理</span></a></li><li class="post__toc-item post__toc-level-3"><a class="post__toc-link" href="#%E6%8E%A7%E5%88%B6%E8%BF%9E%E6%8E%A5%E4%B8%8E%E6%95%B0%E6%8D%AE%E8%BF%9E%E6%8E%A5"><span class="post__toc-text">控制连接与数据连接</span></a></li><li class="post__toc-item post__toc-level-3"><a class="post__toc-link" href="#%E4%BD%BF%E7%94%A8FTP%E6%97%B6%EF%BC%8C%E8%8B%A5%E8%A6%81%E4%BF%AE%E6%94%B9%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E7%9A%84%E6%96%87%E4%BB%B6%EF%BC%8C%E9%9C%80%E8%A6%81%E5%85%88%E5%B0%86%E6%96%87%E4%BB%B6%E4%BC%A0%E9%80%81%E5%88%B0%E6%9C%AC%E5%9C%B0%E4%B8%BB%E6%9C%BA%EF%BC%8C%E7%84%B6%E5%90%8E%E5%86%8D%E5%B0%86%E4%BF%AE%E6%94%B9%E5%90%8E%E7%9A%84%E5%89%AF%E6%9C%AC%E4%BC%A0%E9%80%81%E5%88%B0%E5%8E%9F%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%82"><span class="post__toc-text">使用FTP时，若要修改服务器上的文件，需要先将文件传送到本地主机，然后再将修改后的副本传送到原服务器。</span></a></li></ol></li><li class="post__toc-item post__toc-level-2"><a class="post__toc-link" href="#%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="post__toc-text">电子邮件</span></a><ol class="post__toc-child"><li class="post__toc-item post__toc-level-3"><a class="post__toc-link" href="#%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84"><span class="post__toc-text">电子邮件系统的组成结构</span></a></li><li class="post__toc-item post__toc-level-3"><a class="post__toc-link" href="#%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E7%9A%84%E6%94%B6%E5%8F%91%E8%BF%87%E7%A8%8B"><span class="post__toc-text">电子邮件的收发过程</span></a></li><li class="post__toc-item post__toc-level-3"><a class="post__toc-link" href="#%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6%E6%A0%BC%E5%BC%8F%E4%B8%8EMIME"><span class="post__toc-text">电子邮件格式与MIME</span></a></li><li class="post__toc-item post__toc-level-3"><a class="post__toc-link" href="#SMTP%E4%B8%8EPOP3%E5%8D%8F%E8%AE%AE"><span class="post__toc-text">SMTP与POP3协议</span></a></li></ol></li><li class="post__toc-item post__toc-level-2"><a class="post__toc-link" href="#WWW"><span class="post__toc-text">WWW</span></a><ol class="post__toc-child"><li class="post__toc-item post__toc-level-3"><a class="post__toc-link" href="#WWW%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%8E%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84"><span class="post__toc-text">WWW的概念与组成结构</span></a></li><li class="post__toc-item post__toc-level-3"><a class="post__toc-link" href="#HTTP%E5%8D%8F%E8%AE%AE"><span class="post__toc-text">HTTP协议</span></a></li></ol></li></ol>
</aside>
  <div class="post__content" itemprop="articleBody">
    <h2 id="网络应用模型"><a href="#网络应用模型" class="headerlink" title="网络应用模型"></a>网络应用模型</h2><h3 id="客户-x2F-服务器模型"><a href="#客户-x2F-服务器模型" class="headerlink" title="客户&#x2F;服务器模型"></a>客户&#x2F;服务器模型</h3><ul>
<li><p>有一个总是打开的主机——服务器，服务于许多来自其他主机——客户机的主机请求</p>
<ul>
<li>客户程序必须知道服务器程序的地址。客户机上一般不需要特殊的硬件和 复杂的操作系统</li>
<li>服务器上运行专门用来提供某种服务的程序，系统启动后即自动调用并一直运行，被动地等待并接收来自各地用户的请求，不需要知道客户程序的地址</li>
</ul>
</li>
<li><p>工作流程</p>
<ul>
<li>服务器处于接受请求的状态</li>
<li>客户机发出服务请求，并等待接收结果</li>
<li>服务器收到请求后，分析请求，进行必要的处理，得到结果并发送给客户机</li>
</ul>
</li>
<li><p>特点</p>
<ul>
<li><p>客户是服务请求方，服务器是服务提供方。常见的有Web、FTP、远程登录和电子邮件等</p>
<ul>
<li>最主要的特征</li>
</ul>
</li>
<li><p>网络中各计算机的地位不平等</p>
<ul>
<li><p>服务器可以通过对用户权限的限制，来达到管理客户机的目的，使它们不能随意存储&#x2F;删除数据，或进行其他受限的网络活动</p>
<ul>
<li>整个网络的管理工作由少数服务器担当，网络的管理十分集中和方便</li>
</ul>
</li>
</ul>
</li>
<li><p>客户机相互之间不直接通信</p>
<ul>
<li>如Web应用中的两个浏览器</li>
</ul>
</li>
<li><p>可扩展性不佳</p>
<ul>
<li>受服务器硬件和网络带宽的限制，服务器支持的客户机数量有限</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="P2P模型"><a href="#P2P模型" class="headerlink" title="P2P模型"></a>P2P模型</h3><ul>
<li><p>整个网络中的传输内容不再被保存在中心服务器上，每个结点都同时具有下载、上传功能，其权利和义务是大体对等的</p>
<ul>
<li><p>任意一对计算机——对等方，直接相互通信。本质上仍是C&#x2F;S方式，每个结点极作为客户访问其他结点的资源，也作为服务器提供资源给其他结点</p>
<ul>
<li>PPLive、Bittorrent、电驴</li>
</ul>
</li>
</ul>
</li>
<li><p>优点</p>
<ul>
<li><p>减轻了服务器的计算压力，消除了对某个服务器的完全依赖，可以将任务分配到各个结点上，因此大大提高了系统效率和资源利用率</p>
<ul>
<li>如播放流媒体时</li>
</ul>
</li>
<li><p>多个客户之间可以直接共享文档</p>
</li>
<li><p>可扩展性好</p>
</li>
<li><p>网络健壮性强，单个结点的失效不会影响其他部分的结点</p>
</li>
</ul>
</li>
<li><p>缺点</p>
<ul>
<li><p>在获取服务的同时，还要给其他结点提供服务，会占用较多内存，影响整机速度</p>
<ul>
<li>经常使用P2P下载会损伤硬盘，使网络拥塞。各大ISP都反对P2P应用</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="DNS系统"><a href="#DNS系统" class="headerlink" title="DNS系统"></a>DNS系统</h2><h3 id="因特网使用的命名系统，用于把便于记忆的主机名-网址-，转换为便于计算机处理的IP地址"><a href="#因特网使用的命名系统，用于把便于记忆的主机名-网址-，转换为便于计算机处理的IP地址" class="headerlink" title="因特网使用的命名系统，用于把便于记忆的主机名(网址)，转换为便于计算机处理的IP地址"></a>因特网使用的命名系统，用于把便于记忆的主机名(网址)，转换为便于计算机处理的IP地址</h3><ul>
<li>采用客户&#x2F;服务器模型，运行在UDP之上，使用53号端口</li>
</ul>
<h3 id="3部分组成"><a href="#3部分组成" class="headerlink" title="3部分组成"></a>3部分组成</h3><ul>
<li><p>层次域名空间</p>
<ul>
<li><p>层次树状结构的命名方法</p>
</li>
<li><p>域名</p>
<ul>
<li><p>任何一个连接到因特网的主机或路由器，都有的一个唯一的层次结构名称</p>
<ul>
<li>每个域名由标号序列组成，各标号间用”.”隔开</li>
</ul>
</li>
</ul>
</li>
<li><p>域</p>
<ul>
<li><p>名字空间中一个可被管理的划分，每个域有不用的组织去管理</p>
<ul>
<li>还可以继续划分子域，形成顶级域、二级域、三级域。子域可授权给其他组织管理</li>
</ul>
</li>
</ul>
</li>
<li><p>域名标号</p>
<ul>
<li>标号中的英文不区分大小写</li>
<li>标号中除”-“外不能使用其他标点符号</li>
<li>每个标号不超过63字符，多标号组成的完整域名最长不超过255个字符</li>
<li>级别最低的域名在最左边，最高的顶级域名在最右边</li>
</ul>
</li>
<li><p>顶级域名</p>
<ul>
<li><p>国家顶级域名</p>
<ul>
<li>“.cn”表示中国，“.uk”表示美国</li>
</ul>
</li>
<li><p>通用顶级域名</p>
<ul>
<li>“.com”公司；”.net”网络服务机构；”.org”非营利性组织；”.gov”国家或政府部门</li>
</ul>
</li>
<li><p>基础结构域名</p>
<ul>
<li>只有一个arpa，用于反向域名解析，又称反向域名</li>
</ul>
</li>
</ul>
</li>
<li></li>
</ul>
</li>
<li><p>域名服务器</p>
<ul>
<li><p>区</p>
<ul>
<li><p>一个服务器所负责管辖的范围</p>
<ul>
<li>一个区中的所有结点必须能过连通</li>
<li>每个区设置相应的权限域名服务器，用来保存该区中的所有主机域名到IP地址的映射</li>
</ul>
</li>
</ul>
</li>
<li><p>因特网的命名系统被设计成一个联机分布式的、采用客户&#x2F;服务器模型的数据库系统</p>
<ul>
<li><p>域名服务器上的程序完成：域名到IP地址的解析</p>
</li>
<li><p>每个域名服务器必须具有连向其他域名服务器的信息</p>
<ul>
<li>自己不能进行转换时，知道去哪里找别人</li>
</ul>
</li>
<li><p>DNS使用了大量的域名服务器，它们以层次方式组织。</p>
<ul>
<li>因特网上的映射分布在所有的DNS上</li>
</ul>
</li>
</ul>
</li>
<li><p>分类</p>
<ul>
<li><p>根域名服务器</p>
<ul>
<li>最高层次的域名服务器，所有根域名服务器都知道所有顶级域名服务器的IP地址</li>
<li>是最重要的域名服务器。不管哪个本地域名服务器，对一个自己无法解析的因特网域名，首先就要求助于根域名服务器</li>
<li>根域名服务器用来管理顶级域(如.com)，通常并不直接把待查询的域名直接转换成IP地址，而是告诉本地域名服务器，下一步应当找哪个顶级域名服务器进行查询</li>
<li>一共有13个根名域服务器，每个服务器都是冗余服务器的集群，以提供安全性和可靠性</li>
</ul>
</li>
<li><p>顶级域名服务器</p>
<ul>
<li><p>负责管理在该顶级域名服务器注册的所有二级域名</p>
<ul>
<li>收到DNS查询请求时就给出相应回答</li>
</ul>
</li>
</ul>
</li>
<li><p>授权域名服务器</p>
<ul>
<li><p>&#x3D;权限域名服务器，每台主机都必须在授权域名服务器处登记</p>
<ul>
<li>为了更加可靠地工作，一台主机最好至少有两个授权域名服务器</li>
</ul>
</li>
<li><p>许多域名服务器都同时充当本地域名服务器和授权域名服务器</p>
</li>
<li><p>授权域名服务器总能将其管辖的主机名转换成该主机的IP地址</p>
</li>
</ul>
</li>
<li><p>本地域名服务器</p>
<ul>
<li><p>非常重要。每个ISP，或一所大学，或大学中的系，都可以拥有一个本地域名服务器</p>
</li>
<li><p>当一台主机发出DNS查询请求时，这个查询请求报文就发送给该主机的本地域名服务器。</p>
<ul>
<li>在Windows中配置”本地连接”时，就要填写本地DNS地址</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>域名解析过程</p>
<ul>
<li><p>把域名映射成IP地址的过程——正向解析；或把IP地址映射成域名的过程——反向解析</p>
<ul>
<li>客户端需要域名解析时，通过本机的DNS客户端构造一个DNS请求报文，以UDP数据报方式发往本地域名服务器</li>
</ul>
</li>
<li><p>域名解析方式</p>
<ul>
<li><p>递归查询</p>
<ul>
<li>给根域名服务造成的负载过大，几乎不使用</li>
<li></li>
</ul>
</li>
<li><p>递归与迭代相结合的查询</p>
<ul>
<li><p>主机向本地域名服务器的查询采用的是递归查询</p>
</li>
<li><p>本地域名服务器向根域名服务器的查询采用迭代查询</p>
</li>
<li><ul>
<li>中间工作都由本地来做，把问题收集起来再问根。</li>
<li>两种方法都是先向本地域名服务器提出域名解析请求</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>过程</p>
<ul>
<li><p>某客户机想获知域名为y.abc.com主机的IP地址，共使用8个UDP报文</p>
</li>
<li><p>1.客户机向本地域名服务器发出DNS请求报文</p>
</li>
<li><p>2.本地域名服务器收到请求后，查询本地缓存，若没有该记录，则以DNS客户的身份向根域名服务器发出解析请求</p>
</li>
<li><p>3.根域名服务器收到请求后，判断该域名属于.com域，将对应顶级域名服务器dns.com的IP地址返回给本地域名服务器</p>
</li>
<li><p>4.本地域名服务器向顶级域名服务器dns.com发出解析请求报文</p>
</li>
<li><p>5.顶级域名服务器dns.com收到请求后，判断该域名属于abc.com域，将对应的授权域名服务器dns.abc.com的IP地址返回给本地域名服务器</p>
</li>
<li><p>6.本地域名服务器向授权域名服务器dns.abc.com发起解析请求报文</p>
</li>
<li><p>7.授权域名服务器dns.abc.com收到请求后，将查询结果返回给本地域名服务器</p>
</li>
<li><p>8.本地域名服务器将查询结果保存到本地缓存，同时返回给客户机</p>
<ul>
<li>因为主机名与IP地址之间的映射不是永久的，过一段时间后会自动丢弃高速缓存中的信息</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="FTP"><a href="#FTP" class="headerlink" title="FTP"></a>FTP</h2><h3 id="FTP协议的工作原理"><a href="#FTP协议的工作原理" class="headerlink" title="FTP协议的工作原理"></a>FTP协议的工作原理</h3><ul>
<li><p>文件传输协议FTP是因特网上使用得最广泛的文件传输协议</p>
<ul>
<li>采用客户&#x2F;服务器的工作方式，使用TCP可靠的传输</li>
</ul>
</li>
<li><p>提供交互式的访问，允许客户指明文件的类型与格式，并允许文件具有存取权限</p>
</li>
<li><p>功能</p>
<ul>
<li>屏蔽了各计算机系统的细节，提供不同种类主机系统(软硬件都可以不同)之间文件的传输能力</li>
<li>以用户权限管理的方式，提供用户对远程FTP服务器上的文件管理能力</li>
<li>以匿名FTP的方式提供公用文件共享能力</li>
</ul>
</li>
<li><p>工作步骤</p>
<ul>
<li><p>一个FTP服务器进程可同时为多个客户进程提供服务，由两大部分组成：</p>
<ul>
<li><p>一个主进程</p>
<ul>
<li>负责接收新的请求</li>
</ul>
</li>
<li><p>若干从属进程</p>
<ul>
<li>负责处理单个请求</li>
</ul>
</li>
</ul>
</li>
<li><p>1.打开熟知端口21，使客户进程能够连接上</p>
</li>
<li><p>2.等待客户进程发送连接请求</p>
</li>
<li><p>3.启动从属进程来处理客户进程发来的请求。主进程和从属进程并发执行，从属进程对客户进程的请求处理完毕后即终止</p>
</li>
<li><p>4.回到等待状态，继续接收其他客户进程的请求</p>
</li>
<li><p>FTP服务器必须在整个会话期间保留用户的状态信息。特别是服务器必须把指定的用户账户与控制连接联系起来，服务器必须追踪用户在远程目录树上的当前位置。</p>
</li>
</ul>
</li>
</ul>
<h3 id="控制连接与数据连接"><a href="#控制连接与数据连接" class="headerlink" title="控制连接与数据连接"></a>控制连接与数据连接</h3><ul>
<li><p>FTP在工作时使用两个并行的TCP连接：控制连接21、数据连接20</p>
</li>
<li><p>控制连接</p>
<ul>
<li><p>服务器监听21号端口，等待客户连接</p>
<ul>
<li>FTP客户发出传送请求，通过控制连接发送给服务器端的控制进程</li>
</ul>
</li>
<li><p>控制连接用来传输控制信息(连接请求、传送请求等)，并且控制信息都以7位ASCII形式传送。</p>
<ul>
<li>并不用来传输文件</li>
</ul>
</li>
<li><p>传输文件时可以使用控制连接，使其在整个会话中一直保持打开状态</p>
</li>
</ul>
</li>
<li><p>数据连接</p>
<ul>
<li><p>服务器端的控制进程，在接收到FTP客户端发来的文件传输请求后，就创建“数据传送进程”和“数据连接”</p>
<ul>
<li>数据传送进程，实际完成文件的传送，在传送完毕后关闭“数据传送连接”并结束运行</li>
<li>数据连接，用来连接客户端和服务器端的数据传送进程</li>
</ul>
</li>
</ul>
</li>
<li><p>因为FTP使用了分离的控制连接，也称FTP的控制信息是“带外”传送的</p>
</li>
</ul>
<h3 id="使用FTP时，若要修改服务器上的文件，需要先将文件传送到本地主机，然后再将修改后的副本传送到原服务器。"><a href="#使用FTP时，若要修改服务器上的文件，需要先将文件传送到本地主机，然后再将修改后的副本传送到原服务器。" class="headerlink" title="使用FTP时，若要修改服务器上的文件，需要先将文件传送到本地主机，然后再将修改后的副本传送到原服务器。"></a>使用FTP时，若要修改服务器上的文件，需要先将文件传送到本地主机，然后再将修改后的副本传送到原服务器。</h3><ul>
<li>网络文件系统NFS允许进程打开一个远程文件，并在该文件的某个特定位置开始读写数据。这样，NFS可使用户复制一个大文件中的小片段</li>
</ul>
<h2 id="电子邮件"><a href="#电子邮件" class="headerlink" title="电子邮件"></a>电子邮件</h2><h3 id="电子邮件系统的组成结构"><a href="#电子邮件系统的组成结构" class="headerlink" title="电子邮件系统的组成结构"></a>电子邮件系统的组成结构</h3><ul>
<li><p>用户代理UA</p>
<ul>
<li><p>用户与电子邮件系统的接口。</p>
<ul>
<li>通常，用户代理就是一个运行在PC上的程序，如Foxmail、Outlook</li>
</ul>
</li>
<li><p>用户代理使用户能通过一个友好的接口发送和接收邮件；用户代理至少应具有撰写、显示和邮件处理的功能</p>
</li>
</ul>
</li>
<li><p>邮件服务器</p>
<ul>
<li><p>组成电子邮件系统的核心</p>
</li>
<li><p>功能是发送和接收邮件，同时向发信人报告邮件传送的情况(已交付、被拒绝、丢失等)</p>
<ul>
<li>使用客户&#x2F;服务器方式工作，能够同时充当客户(发送时)和服务器(接收时)。</li>
</ul>
</li>
</ul>
</li>
<li><p>电子邮件使用的协议</p>
<ul>
<li><p>邮件发送协议</p>
<ul>
<li><p>用于用户代理向邮件服务器发送邮件，或在邮件服务器之间发送协议</p>
<ul>
<li>SMTP</li>
</ul>
</li>
</ul>
</li>
<li><p>邮件读取协议</p>
<ul>
<li><p>用于用户代理从邮件服务器读取邮件</p>
<ul>
<li>POP3、IMAP</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="电子邮件的收发过程"><a href="#电子邮件的收发过程" class="headerlink" title="电子邮件的收发过程"></a>电子邮件的收发过程</h3><ul>
<li>1.发信人调用UA来撰写和编辑要发送的邮件。UA用SMTP把邮件传送给发送方邮件服务器</li>
<li>2.发送方邮件服务器将邮件放入邮件缓存队列，等待发送</li>
<li>3.运行在发送方邮件服务器的SMTP客户进程，发现邮件缓存中有待发送的邮件，就向运行在接收方邮件服务器的SMTP服务器进程发起建立TCP连接</li>
<li>4.TCP连接建立后，SMTP客户进程开始向远程SMTP服务器进程发送邮件。当所有待发送邮件发完后，SMTP就关闭所建立的TCP连接</li>
<li>5.运行在接收方邮件服务器中的SMTP服务器进程收到邮件后，将邮件放入收信人的用户邮箱，等待收信人在方便时进行读取</li>
<li>6.收信人打算收信时，调用UA，使用POP3协议将自己的邮件从接收方邮件服务器的用户邮箱中取回</li>
</ul>
<h3 id="电子邮件格式与MIME"><a href="#电子邮件格式与MIME" class="headerlink" title="电子邮件格式与MIME"></a>电子邮件格式与MIME</h3><ul>
<li><p>格式</p>
<ul>
<li><p>信封</p>
<ul>
<li>用户写好首部后，邮件系统自动将信封所需信息提取出来写在信封上</li>
</ul>
</li>
<li><p>邮件内容</p>
<ul>
<li><p>首部</p>
<ul>
<li><p>包含一些首部行，每个首部行为—关键字：值，有的关键字是必需的，有的是可选的</p>
<ul>
<li>To：必需，后面填入一个或多个收件人的电子邮件地址</li>
<li>Subject：可选，邮件的主题</li>
<li>From：必填，由邮件系统自动填入</li>
</ul>
</li>
</ul>
</li>
<li><p>一个空行</p>
</li>
<li><p>主体</p>
<ul>
<li>用户自己写</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>MIME</p>
<ul>
<li><p>多用途网际邮件，MIME是SMTP的扩充</p>
<ul>
<li>SMTP只能传送一定长度的ASCII码，MIME增加了邮件主体的结构，定义了传送非ASCII码的编码规则</li>
</ul>
</li>
<li><p>主要内容</p>
<ul>
<li><p>5个新的邮件首部字段</p>
<ul>
<li>MIME版本、内容描述、内容标识、内容传送编码、内容类型</li>
</ul>
</li>
<li><p>定义了许多邮件内容格式，对多媒体电子邮件的表示方法进行了标准化</p>
</li>
<li><p>定义了传送编码，可对任何内容格式进行转换，而不会被邮件系统改变</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="SMTP与POP3协议"><a href="#SMTP与POP3协议" class="headerlink" title="SMTP与POP3协议"></a>SMTP与POP3协议</h3><ul>
<li><p>简单邮件传输协议</p>
<ul>
<li><p>一种提供可靠且有效的电子邮件传输协议，控制两个相互通信的SMTP进程交换信息</p>
<ul>
<li>使用TCP连接，端口号为25</li>
</ul>
</li>
<li><p>通信的三个阶段</p>
<ul>
<li><p>连接建立</p>
<ul>
<li>SMTP客户每隔一定时间就对邮件缓存扫描一次，若发现有邮件，就使用25号端口与接收方SMTP建立TCP连接</li>
<li>连接建立后，接收方SMTP服务器发出220 Service ready ，然后SMTP客户向SMTP服务器发送HELO命令，附上发送方主机名、</li>
<li>若接收方邮件服务器因故障不能建立连接，发送方只能等待一段时间后再次尝试连接</li>
</ul>
</li>
<li><p>邮件传送</p>
<ul>
<li>邮件的传送从MAIL命令开始，MAIL FROM：&lt;XX@XX&gt;。若SMTP服务器已经准备好接收邮件，则回答250 OK。</li>
<li>SMTP客户发送一个或多个RCPT命令，为了先弄清接收方是否已做好接收邮件的准备，格式为RCPT TO：&lt;收件人地址&gt;。每发送一个RCPT命令，都应有相应的信息从SMTP服务器返回，如250 OK或550 No such user here</li>
<li>获得OK的回答后，客户端就使用DATA命令，表示要开始传输邮件的内容。若SMTP服务器回复：354 Start mail input；end with <CRLF>.<CRLF>，CRLF表示回车换行。此时SMTP客户端可以开始传送文件内容，用 <CRLF>.<CRLF>表示邮件内容结束</li>
</ul>
</li>
<li><p>连接释放</p>
<ul>
<li>邮件发送完毕后，SMTP客户发送QUIT命令。SMPT服务器返回221(服务关闭)，表示同意释放TCP连接。结束</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>邮局协议POP3</p>
<ul>
<li><p>非常简单但功能有限的协议</p>
<ul>
<li>采用客户&#x2F;服务器的工作方式，在传输层使用TCP，端口号为110</li>
</ul>
</li>
<li><p>工作方式</p>
<ul>
<li><p>下载并保留</p>
<ul>
<li>用户从邮件服务器上读取邮件后，邮件依然保存在邮件服务器上，可再次从服务器上读取</li>
</ul>
</li>
<li><p>下载并删除</p>
<ul>
<li>一旦被读取，就从邮件服务器上删除</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>因特网报文存取协议</p>
<ul>
<li><p>比POP复杂得多，为用户提供了创建文件夹、在不同文件夹之间移动邮件、在远程文件夹中查询邮件的命令</p>
<ul>
<li>IMAP服务器维护了会话用户的状态信息</li>
</ul>
</li>
<li><p>允许用户代理只获取报文的某些部分，如只读取首部，或一个多部分MIME报文的一部分</p>
<ul>
<li>适用于低带宽的情况，不想取包含大视频的大邮件</li>
</ul>
</li>
</ul>
</li>
<li><p>HTTP</p>
<ul>
<li>基于万维网的电子邮件，如Gmail，用户浏览器与邮件服务器之间的邮件发送或接收使用的是HTTP协议，仅在不同邮件服务器之间传送邮件才使用SMTP</li>
</ul>
</li>
</ul>
<h2 id="WWW"><a href="#WWW" class="headerlink" title="WWW"></a>WWW</h2><h3 id="WWW的概念与组成结构"><a href="#WWW的概念与组成结构" class="headerlink" title="WWW的概念与组成结构"></a>WWW的概念与组成结构</h3><ul>
<li><p>概念</p>
<ul>
<li><p>万维网是一个资料空间，在这个空间中，一样有用的事物被称为——一样资源，并由全域“统一资源定位符”URL标识，这些资源通过超文本传输协议HTTP传送给使用者，使用者通过单击链接来获取资源</p>
<ul>
<li>以客户&#x2F;服务器方式工作，浏览器是客户程序，万维网文档所驻留的计算机——万维网服务器则运行服务器程序</li>
</ul>
</li>
</ul>
</li>
<li><p>内核部分由三个标准构成</p>
<ul>
<li><p>统一资源定位符URL</p>
<ul>
<li><p>负责标识万维网上的各种文档，是对可以从因特网上得到的资源位置和访问方法的一种简洁表示</p>
</li>
<li><p>&lt;协议&gt;:&#x2F;&#x2F;&lt;主机&gt;:&lt;端口&gt;&#x2F;&lt;路径&gt;</p>
<ul>
<li>不区分大小写</li>
</ul>
</li>
</ul>
</li>
<li><p>超文本传输协议HTTP</p>
<ul>
<li>一个应用层协议，使用TCP连接进行可靠的传输。HTTP是万维网客户程序和服务器程序之间交互所必须严格遵循的协议</li>
</ul>
</li>
<li><p>超文本标记语言HTML</p>
<ul>
<li>一种文档结构的标记语言，使用一些约定的标记对页面上的各种信息(包括文字、声音、图像、视频等)、格式进行描述</li>
</ul>
</li>
</ul>
</li>
<li><p>WWW工作流程</p>
<ul>
<li>每个万维网站点都有一个服务器进程，不断地监听TCP端口80(默认)</li>
<li>Web用户使用浏览器指定URL，服务器监听到连接请求，与浏览器建立连接</li>
<li>TCP连接建立后，浏览器向服务器发送请求获取某个Web页面的HTTP请求</li>
<li>服务器收到HTTP请求后，将构建所请求的Web页的必需信息，并通过HTTP响应返回给浏览器</li>
<li>浏览器将信息进行解释，然后将Web页显示给用户</li>
<li>通信完成，关闭连接</li>
</ul>
</li>
<li><p>互联网internet泛指多个计算机网络按一定通信协议相互连接而成的一个大型计算机网络</p>
<ul>
<li><p>因特网Internet指在ARPA网络上发展而来的世界最大的全球性互联网络</p>
<ul>
<li>万维网是无数个网络站点和网页的集合，它们一起构成了因特网最主要的部分(因特网还包含电子邮件、Usenet新闻组)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h3><ul>
<li><p>HTTP定义了浏览器怎样向万维网服务器请求万维网文档，以及服务器怎样把文档传送给浏览器</p>
<ul>
<li>面向事务&#x2F;文本的应用层协议</li>
</ul>
</li>
<li><p>操作过程</p>
<ul>
<li>HTTP有两类报文：请求报文和响应报文，用户单击鼠标后所发生的事件顺序如下</li>
<li>1.浏览器分析链接指向页面的URL：<a target="_blank" rel="noopener" href="http://www.tsinghua.edu.cn/chn/index.htm">http://www.tsinghua.edu.cn/chn/index.htm</a></li>
<li>2.浏览器向DNS请求解析<a target="_blank" rel="noopener" href="http://www.tsinghua.edu.cn的ip地址/">www.tsinghua.edu.cn的IP地址</a></li>
<li>3.域名系统DNS解析出清华大学的IP地址</li>
<li>4.浏览器与清华大学服务器建立TCP连接（默认端口号80）</li>
<li>5.浏览器发出HTTP请求：GET &#x2F;chn&#x2F;index.htm</li>
<li>6.服务器通过HTTP响应把文件index.htm发送给浏览器</li>
<li>7.TCP连接释放</li>
<li>8.浏览器解释文件index.htm，并将Web页面显示给用户</li>
</ul>
</li>
<li><p>特点</p>
<ul>
<li><p>HTTP是无状态的，即不同客户的多次访问结果相同</p>
<ul>
<li><p>简化了服务器的设计，使服务器更容易支持大量并发的HTTP请求</p>
</li>
<li><p>实际应用中，通常使用Cookie+数据库的方式来跟踪用户活动。</p>
<ul>
<li>Cookie是一个存储在用户主机中的文本文件，里面含有一串识别码，用于Web服务识别用户，并据此在数据库中查询到用户的活动记录</li>
</ul>
</li>
</ul>
</li>
<li><p>HTTP采用TCP，保证了数据的可靠连接</p>
<ul>
<li><p>不必考虑数据在传输过程中被丢失后怎样重传</p>
<ul>
<li>HTTP本身是无连接的，通信双方不需建立HTTP连接</li>
</ul>
</li>
</ul>
</li>
<li><p>HTTP既可以持久连接，也可以非持久连接</p>
<ul>
<li><p>非持久连接</p>
<ul>
<li>每个网页元素对象的传输都需要单独建立一个TCP连接，请求一个万维网文档所需时间&#x3D;该文档传输时间(与大小成正比)+2×RTT(一个用于TCP连接，一个用于请求和接收文档)</li>
</ul>
</li>
<li><p>持久连接</p>
<ul>
<li><p>万维网在发送响应后仍然保持这条连接，同一客户和服务器可以继续在这条连接上传送后续的HTTP请求和报文</p>
</li>
<li><p>分类</p>
<ul>
<li><p>非流水线式</p>
<ul>
<li>客户在收到前一个响应后才能发出下一个请求</li>
<li>每个引用都必须经历1个RTT</li>
</ul>
</li>
<li><p>流水线</p>
<ul>
<li>客户每遇到一个对象引用就立即发出一个请求，客户可以逐个连续发出对各个引用对象的请求</li>
<li>若所有请求和响应都是连续发送的，那么所有引用对象共计经历1个RTT</li>
<li>HTTP&#x2F;1.1默认使用</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>报文结构</p>
<p>  - </p>
<ul>
<li><p>开始行</p>
<ul>
<li><p>用于区分是请求报文还是响应报文</p>
<ul>
<li>请求报文——请求行；响应报文——状态行</li>
</ul>
</li>
<li><p>开始行的三个字段之间都以空格分隔，最后的CRLF代表回车</p>
</li>
<li><p>请求行</p>
<ul>
<li><p>方法</p>
<ul>
<li><p>对所请求对象的操作</p>
<ul>
<li>GET：请求读取URL标识的信息</li>
<li>HEAD：请求读取URL标识的信息的首部</li>
<li>POST：给服务器添加信息(如注释)</li>
<li>CONNECT：用于代理服务器</li>
</ul>
</li>
</ul>
</li>
<li><p>请求资源的URL</p>
</li>
<li><p>HTTP的版本</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>首部行</p>
<ul>
<li>用来说明浏览器、服务器或报文主体的一些信息</li>
<li>可有几行，也可不使用。每行都有首部字段名： 值，每行在结束时都要回车换行，结束时还有一空行</li>
</ul>
</li>
<li><p>实体主体</p>
<ul>
<li>在请求报文中一般不用，在响应报文中也可能没有</li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  
</article>
    </main>
    <footer id="footer">
  Copyright &copy;
  2022
  BONE
  
  
    <a class="social-links" target="_blank" rel="noopener" href="https://github.com/FloatinDLE"><i class="blogfont">&#xe6b7; </i></a>
  
    <a class="social-links" href="mailto:bone_n@foxmail.com"><i class="blogfont">&#xe61a; </i></a>
  
    <a class="social-links" href="/atom.xml"><i class="blogfont">&#xe640; </i></a>
  
  
</footer>
    <!-- scripts -->

<script src="/scripts/main.js"></script>

  </body>
</html>